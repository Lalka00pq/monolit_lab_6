# Настройка OpenRouter для анализа статей

## Описание

Приложение использует OpenRouter API для автоматического анализа загруженных PDF статей. Для каждого PDF файла создаются три текстовых файла:

1. **Анализ** (`*_анализ.txt`) - детальный анализ статьи
2. **Аннотация** (`*_аннотация.txt`) - краткая аннотация статьи
3. **Пересказ** (`*_пересказ.txt`) - краткий пересказ статьи

## Настройка

### 1. Получение API ключа OpenRouter

1. Зарегистрируйтесь на [OpenRouter.ai](https://openrouter.ai/)
2. Перейдите в раздел "Keys" и создайте новый API ключ
3. Скопируйте ваш API ключ

### 2. Установка API ключа

#### Вариант 1: Переменные окружения (рекомендуется)

Создайте файл `.env` в корне проекта:

```env
OPENROUTER_API_KEY=your_api_key_here
OPENROUTER_MODEL=openai/gpt-4o-mini
```

#### Вариант 2: Прямое редактирование конфигурации

Отредактируйте файл `modules/config.py` и установите значение `OPENROUTER_API_KEY`:

```python
OPENROUTER_API_KEY: str = 'your_api_key_here'
```

### 3. Выбор модели

По умолчанию используется модель `openai/gpt-4o-mini`. Вы можете изменить модель в `.env` файле или в `modules/config.py`.

Доступные модели на OpenRouter:
- `openai/gpt-4o-mini` - быстрая и экономичная (по умолчанию)
- `openai/gpt-4o` - более качественная, но дороже
- `anthropic/claude-3-haiku` - альтернатива от Anthropic
- И многие другие модели

## Использование

После настройки API ключа:

1. Запустите приложение
2. Выполните поиск статей через UI
3. После загрузки PDF файлов, автоматически начнется обработка через OpenRouter
4. В папке с каждым PDF файлом появятся три текстовых файла с анализом

## Примечания

- Обработка может занять некоторое время в зависимости от размера статей и выбранной модели
- Убедитесь, что у вас достаточно средств на балансе OpenRouter для обработки запросов
- Если API ключ не установлен, обработка будет пропущена, но PDF файлы все равно будут загружены

## Как запустить приложение
1) Клонируйте репозитория
```bash
git clone https://github.com/Lalka00pq/monolit_lab_6
```
2) Перейдите в папку
```bash
cd monolit_lab_6
```
1) Создайте виртуальное окружение
```bash
python -m venv .venv
```
1) Активируйте виртуальное окружение
```bash
.\.venv\Scripts\activete
```
1) Установите зависимости 
```bash
pip install -r requirements.txt
```
1) Запустите приложение
```bash
python main.py
```